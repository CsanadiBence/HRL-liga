<!DOCTYPE html>
<html lang="hu">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WMFCJZXW3H"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-WMFCJZXW3H');
  </script>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HunRise Legacy Bajnoks√°g</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="main-header">
    <a href="../index.html" class="btn-back-main">‚Üê Vissza</a>
    <div class="logo-circle">
      <div class="logo-inner">
        <span class="logo-ball">‚öΩ</span>
      </div>
    </div>
    <div class="header-text">
      <h1>HRL KUPA</h1>
      <p>HunRise Legacy<br> H√°zibajnoks√°g</p>
    </div>
    
    <button class="hamburger" id="hamburgerBtnBaj">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="nav-menu" id="navMenuBaj">
      <div class="admin-section">
        <div id="adminLoggedOut">
          <input type="password" id="adminPasswordInput" placeholder="Admin jelsz√≥" class="admin-input">
          <button id="adminLoginBtn" class="admin-btn">Bejelentkez√©s</button>
          <p id="adminLoginMsg" class="muted" style="margin-top: 8px; font-size: 0.85rem;"></p>
        </div>
        <div id="adminLoggedIn" style="display:none;" class="admin-active">
          <span class="admin-status" id="adminStatusText">‚úì Admin m√≥d</span>
          <button id="adminLogoutBtn" class="admin-logout">Kil√©p√©s</button>
        </div>
      </div>
    </div>
  </header>

  <nav class="top-nav">
    <button data-view="leagues" class="nav-btn active">Lig√°k</button>
    <button data-view="league_admin" class="nav-btn admin-only-nav master-only">Liga kezel√©s</button>
    <button data-view="matches" class="nav-btn admin-only-nav">Meccsek kezel√©se</button>
    <button data-view="playoff" class="nav-btn admin-only-nav master-only">Playoff</button>
  </nav>

  <main class="container">

    <!-- LIG√ÅK N√âZET (user + admin) -->
    <section id="view-leagues" class="view active">
      <div class="card">
        <h2>HRL Lig√°k - 2025/2026 Szezon</h2>
        <p class="muted">4 liga rendszer - Mindenki j√°tszik mindenkivel oda-vissza. Az els≈ë 4 helyezett minden lig√°b√≥l tov√°bbjut a Top 16-ba.</p>
      </div>
      <div id="leagues-tables-container"></div>
    </section>

    <!-- LIGA KEZEL√âS (csak master admin) -->
    <section id="view-league_admin" class="view admin-only-view master-only">
      <div class="card">
        <div class="card-header-row">
          <h2>Liga kezel√©s</h2>
          <button id="initLeaguesBtn">Lig√°k inicializ√°l√°sa</button>
        </div>
        <p class="muted">4 liga l√©trehoz√°sa √©s j√°t√©kosok hozz√°ad√°sa</p>
      </div>

      <div id="league-management-container">
        <!-- Liga A -->
        <div class="card">
          <h3>‚öΩ Liga A</h3>
          <div class="form-row">
            <div class="form-field">
              <label>J√°t√©kos neve</label>
              <input type="text" id="playerNameLeagueA" placeholder="pl. Nagy P√©ter">
            </div>
            <button id="addPlayerLeagueA">J√°t√©kos hozz√°ad√°sa</button>
          </div>
          <ul id="playersListLeagueA" class="simple-list"></ul>
        </div>

        <!-- Liga B -->
        <div class="card">
          <h3>‚öΩ Liga B</h3>
          <div class="form-row">
            <div class="form-field">
              <label>J√°t√©kos neve</label>
              <input type="text" id="playerNameLeagueB" placeholder="pl. Kov√°cs J√°nos">
            </div>
            <button id="addPlayerLeagueB">J√°t√©kos hozz√°ad√°sa</button>
          </div>
          <ul id="playersListLeagueB" class="simple-list"></ul>
        </div>

        <!-- Liga C -->
        <div class="card">
          <h3>‚öΩ Liga C</h3>
          <div class="form-row">
            <div class="form-field">
              <label>J√°t√©kos neve</label>
              <input type="text" id="playerNameLeagueC" placeholder="pl. T√≥th B√©la">
            </div>
            <button id="addPlayerLeagueC">J√°t√©kos hozz√°ad√°sa</button>
          </div>
          <ul id="playersListLeagueC" class="simple-list"></ul>
        </div>

        <!-- Liga D -->
        <div class="card">
          <h3>‚öΩ Liga D</h3>
          <div class="form-row">
            <div class="form-field">
              <label>J√°t√©kos neve</label>
              <input type="text" id="playerNameLeagueD" placeholder="pl. Szab√≥ G√°bor">
            </div>
            <button id="addPlayerLeagueD">J√°t√©kos hozz√°ad√°sa</button>
          </div>
          <ul id="playersListLeagueD" class="simple-list"></ul>
        </div>

        <div class="card">
          <button id="generateAllMatchesBtn" style="width: 100%; padding: 14px; font-size: 16px;">√ñsszes meccs gener√°l√°sa (oda-vissza)</button>
          <p class="muted" style="margin-top: 8px;">Minden j√°t√©kos j√°tszik mindenkivel 2x (hazai √©s vend√©g)</p>
        </div>
      </div>
    </section>

    <!-- MECCSEK KEZEL√âSE (liga adminok + master) -->
    <section id="view-matches" class="view admin-only-view">
      <div class="card">
        <h2>Meccsek kezel√©se</h2>
        <p class="muted" id="matchesAdminInfo"></p>
      </div>
      <div id="matches-container"></div>
    </section>

    <!-- TOP 16 PLAYOFF BRACKET -->
    <section id="view-playoff" class="view">
      <div class="card">
        <h2>üèÜ Top 16 Playoff Bracket</h2>
        <p class="muted">Egyenes kies√©ses szakasz - Minden liga els≈ë 4 helyezettje (√∂sszesen 16 f≈ë)</p>
      </div>
      
      <!-- Top 16 lista -->
      <div id="playoff-top16-container" class="top16-container">
        <div class="card" style="margin-bottom: 32px;">
          <h3 style="color: #d4af37; margin-bottom: 16px;">üìã Tov√°bbjut√≥k (16 f≈ë)</h3>
          <div id="top16-list" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px;"></div>
        </div>
      </div>
      
      <!-- Tournament Bracket -->
      <div class="tournament-bracket">
        
        <!-- Nyolcadd√∂nt≈ë -->
        <div class="bracket-round" data-round="round16">
          <h3 class="round-header">Nyolcadd√∂nt≈ë</h3>
          <div class="match" data-match="r16-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-2"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-3"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-4"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-5"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-6"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-7"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-8"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
        </div>
        
        <!-- Negyedd√∂nt≈ë -->
        <div class="bracket-round" data-round="quarter">
          <h3 class="round-header">Negyedd√∂nt≈ë</h3>
          <div class="match" data-match="q-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="q-2"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="q-3"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="q-4"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
        </div>
        
        <!-- El≈ëd√∂nt≈ë -->
        <div class="bracket-round" data-round="semi">
          <h3 class="round-header">El≈ëd√∂nt≈ë</h3>
          <div class="match" data-match="s-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="s-2"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
        </div>
        
        <!-- D√∂nt≈ë √©s Bronz -->
        <div class="bracket-round finals" data-round="finals">
          <h3 class="round-header">D√∂nt≈ë</h3>
          <div class="match final" data-match="f-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <h3 class="round-header bronze-header">Bronzmeccs</h3>
          <div class="match bronze" data-match="b-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
        </div>
        
      </div>
    </section>

  </main>

  <footer class="main-footer">
    &copy; 2025 HunRise Legacy | Bels≈ë bajnoks√°g kezel≈ë
  </footer>

  <script type="module" src="app.js"></script>
</body>
</html>
      <div class="card">
        <h2>Play-in eredm√©nyek</h2>
        <p class="muted">A Play-in k√∂rb≈ël tov√°bbjut√≥ j√°t√©kosok</p>
        <button id="togglePlayinBtn" style="margin-top: 12px; width: 100%; padding: 10px; background: linear-gradient(135deg, rgba(10,132,255,0.2), rgba(212,175,55,0.15)); border: 1px solid rgba(212,175,55,0.3); border-radius: 6px; color: #fff; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
          <span id="togglePlayinIcon">‚ñº</span> Play-in meccsek megjelen√≠t√©se
        </button>
      </div>
      <div id="playoff-playin-results" class="playin-results-container" style="display: none;"></div>
      
      <div class="card" style="margin-top: 32px;">
        <h2>Egyenes kies√©ses szakasz</h2>
        <p class="muted">Nyolcadd√∂nt≈ët≈ël a D√∂nt≈ëig</p>
      </div>
      
      <!-- Top 16 lista -->
      <div id="playoff-top16-container" class="top16-container">
        <div class="card" style="margin-bottom: 32px;">
          <h3 style="color: #d4af37; margin-bottom: 16px;">üèÜ Top 16 - Tov√°bbjut√≥k</h3>
          <div id="top16-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px;"></div>
        </div>
      </div>
      
      <!-- Tournament Bracket - El≈ëre elk√©sz√≠tett strukt√∫ra -->
      <div class="tournament-bracket">
        
        <!-- Nyolcadd√∂nt≈ë -->
        <div class="bracket-round" data-round="round16">
          <h3 class="round-header">Nyolcadd√∂nt≈ë</h3>
          <div class="match" data-match="r16-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-2"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-3"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-4"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-5"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-6"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-7"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="r16-8"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
        </div>
        
        <!-- Negyedd√∂nt≈ë -->
        <div class="bracket-round" data-round="quarter">
          <h3 class="round-header">Negyedd√∂nt≈ë</h3>
          <div class="match" data-match="q-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="q-2"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="q-3"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="q-4"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
        </div>
        
        <!-- El≈ëd√∂nt≈ë -->
        <div class="bracket-round" data-round="semi">
          <h3 class="round-header">El≈ëd√∂nt≈ë</h3>
          <div class="match" data-match="s-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <div class="match" data-match="s-2"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
        </div>
        
        <!-- D√∂nt≈ë √©s Bronz -->
        <div class="bracket-round finals" data-round="finals">
          <h3 class="round-header">D√∂nt≈ë</h3>
          <div class="match final" data-match="f-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
          <h3 class="round-header bronze-header">Bronzmeccs</h3>
          <div class="match bronze" data-match="b-1"><div class="team"><span class="name">-</span><span class="score">0</span></div><div class="team"><span class="name">-</span><span class="score">0</span></div></div>
        </div>
        
      </div>
    </section>

    <section id="view-matches" class="view">
      <div class="card">
        <h2>Lej√°tszott csoportmeccsek</h2>
        <button id="clearAllBtn" class="danger-btn admin-only-inline">√ñsszes adat t√∂rl√©se</button>
      </div>
      <table class="data-table">
        <thead>
            <tr>
                <th>#</th>
                <th>Csoport</th>
                <th>Hazai</th>
                <th>Eredm√©ny</th>
                <th>Vend√©g</th>
                <th>D√°tum</th>
                <th class="admin-only-inline">M≈±veletek</th>
            </tr>
        </thead>
        <tbody id="matchesTableBody"></tbody>
      </table>
    </section>

    <section id="view-groups" class="view admin-only-view">
      <div class="card">
        <h2>Csoportok kezel√©se</h2>
        <div class="form-row">
          <div class="form-field"><label>Csoport neve</label><input id="groupNameInput" type="text"></div>
          <button id="addGroupBtn">L√©trehoz√°s</button>
        </div>
        <p id="groupMessage" class="muted"></p>
      </div>
      <div class="card"><h3>Megl√©v≈ë csoportok</h3><ul id="groupList" class="simple-list"></ul></div>
      
      <div class="card">
        <h2>Csoportmeccs r√∂gz√≠t√©se</h2>
        <div class="form-row">
          <div class="form-field"><label>Csoport</label><select id="matchGroupSelect"></select></div>
          <div class="form-field"><label>Hazai</label><select id="homePlayerSelect"></select></div>
          <div class="form-field small"><label>G√≥l</label><input id="homeGoalsInput" type="number" min="0" value="0"></div>
          <div class="form-field small"><label>G√≥l</label><input id="awayGoalsInput" type="number" min="0" value="0"></div>
          <div class="form-field"><label>Vend√©g</label><select id="awayPlayerSelect"></select></div>
          <button id="addMatchBtn">Ment√©s</button>
        </div>
        <p id="matchMessage" class="muted"></p>
      </div>
    </section>

    <section id="view-players" class="view admin-only-view">
      <div class="card">
        <h2>J√°t√©kos hozz√°ad√°sa</h2>
        <div class="form-row">
          <div class="form-field"><label>N√©v</label><input id="playerNameInput" type="text"></div>
          <div class="form-field"><label>Csoport</label><select id="playerGroupSelect"></select></div>
          <button id="addPlayerBtn">Ment√©s</button>
        </div>
        <p id="playerMessage" class="muted"></p>
      </div>
      <div class="card">
        <h3>J√°t√©koslista & Pontm√≥dos√≠t√°sok</h3>
        <span id="playerCountInfo" class="muted"></span>
        <table class="data-table">
          <thead>
            <tr>
              <th>N√©v</th>
              <th>Csoport</th>
              <th>Pontm√≥dos√≠t√°s</th> <th>M≈±velet</th>
            </tr>
          </thead>
          <tbody id="playersTableBody"></tbody>
        </table>
      </div>
    </section>

    <section id="view-playoff_admin" class="view admin-only-view">
      <div class="card">
        <h2>Play-in p√°rok be√°ll√≠t√°sa</h2>
        <div id="playin-pair-setup"></div>
        <p id="playinMessage" class="muted"></p>
      </div>
      <div class="card">
        <h2>Playoff meccs r√∂gz√≠t√©se</h2>
        <div class="form-row">
          <div class="form-field">
            <label>Fordul√≥</label>
            <select id="playoffRoundSelect">
              <option value="playin">Play-in</option>
              <option value="round16">Nyolcadd√∂nt≈ë</option>
              <option value="quarter">Negyedd√∂nt≈ë</option>
              <option value="semi">El≈ëd√∂nt≈ë</option>
              <option value="final">D√∂nt≈ë</option>
              <option value="bronze">Bronzmeccs</option>
            </select>
          </div>
          <div class="form-field"><label>Hazai</label><select id="playoffHomeSelect"></select></div>
          <div class="form-field small"><label>G√≥l</label><input id="playoffHomeGoals" type="number" min="0" value="0"></div>
          <div class="form-field small"><label>G√≥l</label><input id="playoffAwayGoals" type="number" min="0" value="0"></div>
          <div class="form-field"><label>Vend√©g</label><select id="playoffAwaySelect"></select></div>
          <button id="addPlayoffMatchBtn">Ment√©s</button>
        </div>
        <p id="playoffMatchMessage" class="muted"></p>
      </div>
      <div class="card">
        <h2>Bajnoks√°g lez√°r√°sa (arch√≠v ment√©s)</h2>
        <div class="form-row">
          <div class="form-field" style="flex: 1 1 60%;"><label>Bajnoks√°g neve</label><input id="archiveNameInput" type="text" placeholder="Pl. 2026 T√©li Kupa"></div>
          <button id="saveArchiveBtn" class="primary-btn">Ment√©s arch√≠vumba</button>
        </div>
        <p id="archiveMessage" class="muted"></p>
      </div>
    </section>
    <section id="view-playoff_admin" class="view admin-only-view">
    <div class="card">
        <h2>R√∂gz√≠tett Playoff meccsek kezel√©se</h2>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Fordul√≥</th>
                    <th>P√°ros√≠t√°s</th>
                    <th>Eredm√©ny</th>
                    <th>R√∂gz√≠tve</th>
                    <th>M≈±velet</th>
                </tr>
            </thead>
            <tbody id="adminPlayoffMatchesTableBody"></tbody>
        </table>
    </div>
    
    <div class="card">
        <h2>Mentett bajnoks√°gok</h2>
        <div id="archiveListContainer">
            <p class="muted">Bet√∂lt√©s...</p>
        </div>
    </div>
</section>

  </main>

  <footer class="main-footer">IFI2 Kupa ‚Äì Firebase backend</footer>

  <script type="module" src="app.js"></script>
</body>
</html>
